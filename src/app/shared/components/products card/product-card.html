<ng-container *ngIf="variant === 'popular'; else defaultCard">
  <article class="pcard pcard--popular">
    <!-- izquierda: imagen (cÃ­rculo) -->
    <div class="pcardp__left">
      <div class="pcardp__imgwrap">
        <img [src]="product.imageUrl" [alt]="product.name" />
      </div>
    </div>

    <div class="pcardp__right">
      <h3 class="pcardp__name">{{ product.name }}</h3>

      <div class="pcardp__price">${{ product.price | number }}</div>

      <div class="pcardp__stars">
        <ng-container *ngFor="let _ of stars(); let i = index">
          <span class="star" [class.active]="i < (product.rating || 0)">â˜…</span>
        </ng-container>
      </div>

      <div class="pcardp__actions">
        <button type="button" class="pcardp__btn">Ver detalles</button>
        <button type="button" class="pcardp__icon" aria-label="Agregar al carrito"
          (click)="onAddToCart($event)">ðŸ›’</button>
      </div>
    </div>
  </article>
</ng-container>

<ng-template #defaultCard>
  <article class="pcard">
    <div class="pcard__row">
      <img [src]="product.imageUrl" [alt]="product.name" class="pcard__thumb" />
      <div class="pcard__info">
        <h3 class="pcard__name">{{ product.name }}</h3>
        <small class="pcard__stock" [class.out]="product.stock === 0">
          {{ product.stock === 0 ? 'Sin stock' : 'Stock disponible' }}
        </small>
        <div class="pcard__price">${{ product.price | number }}</div>
      </div>
      <button type="button" class="pcard__add" (click)="onAddToCart($event)">Agregar</button>
    </div>
  </article>
</ng-template>