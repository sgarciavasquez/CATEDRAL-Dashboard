<header class="w-full bg-[#2f3f56] text-white shadow">
  <div class="container-7xl py-3 flex items-center gap-6">

    <!-- Logo -->
    <a routerLink="/" class="flex items-center gap-3 shrink-0">
      <img src="assets/logo_bl.png" alt="Catedral Perfumes" class="h-10 w-auto" />
      <div class="leading-4 hidden sm:block">
        <div class="tracking-[0.25em] text-2xl font-bold">CATEDRAL</div>
        <div class="text-xs tracking-[0.35em]">PERFUMES</div>
      </div>
    </a>

    <!-- Buscador pill -->
    <div class="flex-1 flex justify-center">
      <div class="relative w-full max-w-lg">
        <input
          class="w-full rounded-full bg-white text-stone-900 pl-4 pr-10 py-2 placeholder:text-stone-400 outline-none"
          placeholder="Buscar perfumes..." type="search" />
        <span class="absolute right-3 top-1/2 -translate-y-1/2 text-stone-500">🔍</span>
      </div>
    </div>

    <!-- Sesión + carrito -->
    <nav class="flex items-center gap-4 text-sm">
      <ng-container *ngIf="(user$ | async) as u; else guest">
        <a [routerLink]="['/perfil']" class="flex items-center gap-2 hover:underline">
          <span class="opacity-80 hidden md:inline">Hola, {{ u.name }}</span>
          <span class="grid place-items-center w-8 h-8 rounded-full bg-white/10">👤</span>
        </a>

        <button class="underline" (click)="logout()">Salir</button>
      </ng-container>
      <ng-template #guest>
        <a routerLink="/auth/login" class="underline">Ingresar</a>
        <a routerLink="/auth/register" class="underline">Registrarse</a>
      </ng-template>

      <a routerLink="/cart" class="relative px-3 py-2">
        🛍️
        <span *ngIf="(count$ | async) as count"
          class="absolute -top-2 -right-2 text-xs rounded-full bg-amber-400 text-black px-1.5">
          {{ count }}
        </span>
      </a>
    </nav>
  </div>

</header>