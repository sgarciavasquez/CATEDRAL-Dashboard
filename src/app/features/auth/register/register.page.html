<!-- Header -->
<app-header></app-header>

<div class="min-h-screen flex flex-col">
  <main class="min-h-[calc(100vh-64px)] grid place-items-center px-4 py-10 bg-[#f1f3f6]">

    <!-- CARD COMPACTA -->
    <section
      class="w-[380px] max-w-[92vw] rounded-xl bg-white shadow-lg
             border border-[#e6eaf1] p-5 md:p-6">

      <!-- Encabezado -->
      <header class="mb-4 text-center">
        <div class="mx-auto mb-2 inline-flex items-center gap-2 rounded-full bg-[#2f3f56] px-3 py-1 text-white">
          <span class="inline-block h-2 w-2 rounded-full bg-white/80"></span>
        </div>
        <h1 class="text-xl font-semibold text-[#2f3f56]">Registrarse</h1>
      </header>

      <!-- Form -->
      <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4">

        <!-- Nombre -->
        <label class="relative block">
          <input
            formControlName="name"
            placeholder=" "
            class="peer w-full rounded-xl bg-[#eef2f7] px-4 pt-4 pb-2 text-[15px] outline-none
                   border border-transparent focus:border-[#a9b6cb] focus:bg-white transition" />
          <span
            class="pointer-events-none absolute left-4 top-2.5 text-[12px] text-[#6b7a90] transition-all
                   peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-[14px]
                   peer-focus:top-2.5 peer-focus:text-[12px]">
            Nombre
          </span>
        </label>

        <!-- Correo -->
        <label class="relative block">
          <input
            type="email"
            formControlName="email"
            placeholder=" "
            class="peer w-full rounded-xl bg-[#eef2f7] px-4 pt-4 pb-2 text-[15px] outline-none
                   border border-transparent focus:border-[#a9b6cb] focus:bg-white transition" />
          <span
            class="pointer-events-none absolute left-4 top-2.5 text-[12px] text-[#6b7a90] transition-all
                   peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-[14px]
                   peer-focus:top-2.5 peer-focus:text-[12px]">
            Correo
          </span>
        </label>

        <!-- Teléfono -->
        <label class="relative block">
          <input
            type="tel"
            formControlName="phone"
            (input)="onPhoneInput($event)"
            placeholder=" "
            class="peer w-full rounded-xl bg-[#eef2f7] px-4 pt-4 pb-2 text-[15px] outline-none
                   border border-transparent focus:border-[#a9b6cb] focus:bg-white transition" />
          <span
            class="pointer-events-none absolute left-4 top-2.5 text-[12px] text-[#6b7a90] transition-all
                   peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-[14px]
                   peer-focus:top-2.5 peer-focus:text-[12px]">
            Teléfono 
          </span>
        </label>
        <small class="block -mt-3 text-xs text-neutral-500">Ej: (+569)12345678</small>

        <!-- Contraseña -->
        <label class="relative block">
          <input
            type="password"
            formControlName="password"
            placeholder=" "
            class="peer w-full rounded-xl bg-[#eef2f7] px-4 pt-4 pb-2 text-[15px] outline-none
                   border border-transparent focus:border-[#a9b6cb] focus:bg-white transition" />
          <span
            class="pointer-events-none absolute left-4 top-2.5 text-[12px] text-[#6b7a90] transition-all
                   peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:text-[14px]
                   peer-focus:top-2.5 peer-focus:text-[12px]">
            Contraseña
          </span>
        </label>

        <!-- Botón -->
        <button
          type="submit"
          [disabled]="loading || form.invalid"
          class="w-full rounded-lg bg-[#2f3f56] text-white py-2 font-medium shadow
                 hover:brightness-110 disabled:opacity-50 disabled:cursor-not-allowed transition">
          {{ loading ? 'Creando cuenta…' : 'Aceptar' }}
        </button>

        <!-- Ir a login -->
        <p class="text-center text-sm text-neutral-600">
          ¿Ya tienes cuenta?
          <a routerLink="/auth/login" class="font-medium text-[#2f3f56] hover:underline">Ingresar</a>
        </p>

        <!-- Error global -->
        <p *ngIf="error" class="text-red-600 text-sm text-center">{{ error }}</p>
      </form>
    </section>
  </main>

  <app-footer class="mt-auto"></app-footer>
</div>
